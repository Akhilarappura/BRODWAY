
<div class="colorlib-partner">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-8 offset-sm-2 text-center colorlib-heading colorlib-heading-sm">
                <h2>Trusted Partners</h2>
            </div>
        </div>
        <div class="row">
            <div class="col partner-col text-center">
                <img src="images/brand-1.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
            </div>
            <div class="col partner-col text-center">
                <img src="images/brand-2.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
            </div>
            <div class="col partner-col text-center">
                <img src="images/brand-3.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
            </div>
            <div class="col partner-col text-center">
                <img src="images/brand-4.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
            </div>
            <div class="col partner-col text-center">
                <img src="images/brand-5.jpg" class="img-fluid" alt="Free html4 bootstrap 4 template">
            </div>
        </div>
    </div>
</div>

<footer id="colorlib-footer" role="contentinfo">
    <div class="container-fluid ">
        <div class="row row-pb-md">
            <div class="col footer-col colorlib-widget">
                <h4>About Footwear</h4>
                <p>Even the all-powerful Pointing has no control about the blind texts it is an almost
                    unorthographic life</p>
                <p>
                <ul class="colorlib-social-icons">
                    <li><a href="#"><i class="icon-twitter"></i></a></li>
                    <li><a href="#"><i class="icon-facebook"></i></a></li>
                    <li><a href="#"><i class="icon-linkedin"></i></a></li>
                    <li><a href="#"><i class="icon-dribbble"></i></a></li>
                </ul>
                </p>
            </div>
            <div class="col footer-col colorlib-widget">
                <h4>Customer Care</h4>
                <p>
                <ul class="colorlib-footer-links">
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="#">Returns/Exchange</a></li>
                    <li><a href="#">Gift Voucher</a></li>
                    <li><a href="#">Wishlist</a></li>
                    <li><a href="#">Special</a></li>
                    <li><a href="#">Customer Services</a></li>
                    <li><a href="#">Site maps</a></li>
                </ul>
                </p>
            </div>
            <div class="col footer-col colorlib-widget">
                <h4>Information</h4>
                <p>
                <ul class="colorlib-footer-links">
                    <li><a href="/about">About us</a></li>
                    <li><a href="#">Delivery Information</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Support</a></li>
                    <li><a href="#">Order Tracking</a></li>
                </ul>
                </p>
            </div>

            <div class="col footer-col">
                <h4>News</h4>
                <ul class="colorlib-footer-links">
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="#">Press</a></li>
                    <li><a href="#">Exhibitions</a></li>
                </ul>
            </div>

            <div class="col footer-col">
                <h4>Contact Information</h4>
                <ul class="colorlib-footer-links">
                    <li>291 South 21th Street, <br> Suite 721 New York NY 10016</li>
                    <li><a href="tel://1234567920">+ 1235 2355 98</a></li>
                    <li><a href="mailto:info@yoursite.com">info@yoursite.com</a></li>
                    <li><a href="#">yoursite.com</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="copy">
        <div class="row">
            <div class="col-sm-12 text-center">
                <p>
                    <span><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script> All rights reserved | This
                        template is made with <i class="icon-heart" aria-hidden="true"></i> by <a
                            href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </span>
                    <span class="block">Demo Images: <a href="http://unsplash.co/" target="_blank">Unsplash</a> , <a
                            href="http://pexels.com/" target="_blank">Pexels.com</a></span>
                </p>
            </div>
        </div>
    </div>
</footer>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="ion-ios-arrow-up"></i></a>
</div>
<!-- <script>
    document.getElementById("brand").addEventListener("change",async()=>{
        const brand=document.getElementById("brand").value;
        console.log(brand,"brand");
        try {
                const response=await fetch('/brand',{
                    method:'POST',
                    headers:{
                        'Content-type':'application/json'
                    },
                    body:JSON.stringify({brand})
                })
                .then(res=>)
            
        } catch (error) {
                console.error("error fetching",error)            
            
        }
    })
</script> -->

<script>
	const quantity = async (type, item) => {
    let quantityElement = document.getElementById(`quantity_${item._id}`);
    let totalPriceElement = document.getElementById(`total_price_${item._id}`);

    let quantityValue = parseInt(quantityElement.value);

    if (type === 'inc' ) {
		if(quantityValue  < item.productId.stock){
        quantityValue++;
		}else{
		     Swal.fire({
				title:'Stock Exceeded!',
				text:'Cannot add more than available Stock',
				icon:'warning',
				confirmButtonText: 'OK'
			 });
			 return;
		}
    } else {
        if (quantityValue > 1) {
            quantityValue--;
        }
    }

    quantityElement.value = quantityValue;

    let totalPrice = quantityValue * item.productId.price;
    totalPriceElement.innerText = `$${totalPrice}`;

    try {
        const res = await fetch('/quantity', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ qua: quantityValue, id: item._id })
        });

        if (!res.ok) {
            throw new Error('Failed to fetch');
        }
    } catch (error) {
        console.error('Error:', error);
    }
};


</script>


   <script>
    document.getElementById('sortBySelect').addEventListener("change", async () => {
        const sortBySelect = document.getElementById('sortBySelect').value;
        console.log(sortBySelect, "selectedOption");

        try {
            const response = await fetch('/priceFilter', {
                method: 'POST',
                headers: {
                    'Content-type': 'application/json'
                },
                body: JSON.stringify({ sortBySelect })
            });
            const sortedProducts = await response.json();
            console.log(sortedProducts, "response");

            // Function to render products in the DOM
            renderProducts(sortedProducts);
        } catch (error) {
            console.error("Error fetching sorted products:", error);
        }
    });

    function renderProducts(products) {
        console.log("render");
        const productsContainer = document.getElementById('productsContainer');
        productsContainer.innerHTML = ''; // Clear existing products

        products.forEach(product => {
            console.log("products");
            const productHTML = `
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 text-center " data-price="${product.price}">
                
                <div class="card product-card h-100" style="height: 500px;">
                    <div class="pro-img" >
                    <a href="/productdetail?id=${product._id}" class="prod-img">
                        <img src="${ product.images[0] }" class="card-img-top " alt="${ product.product_name }" >
                    </a>
                </div>
                    <div class="card-body product-details">
                        <h5 class="card-title product-title">
                            <a href="/productdetail?id=${ product._id }">
                                ${ product.product_name }
                            </a>
                        </h5>
                        <p class="card-text product-price">&#8377;${ product.price }</p>
                        <p class="card-text product-brand">${ product.brand }</p>
                ${product.stock > 0 ? `
                                <button class="btn btn-primary btn-add-cart">
                                    <a href="/cart/${product._id}" class="text-white">Add to Cart</a>
                                </button>` : `
                                <p class="out-of-stock text-danger">Out of Stock</p>`
                            }
                    </div>
                </div>
            </div>`;
            productsContainer.innerHTML += productHTML;
        });
        productsContainer.appendChild(rowDiv);
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      const sections = document.querySelectorAll('.filter-section');
  
      sections.forEach(section => {
        const header = section.querySelector('h3');
        header.addEventListener('click', function() {
          const content = section.querySelector('.filter-section-content');
          content.classList.toggle('active');
        });
      });
    });
  </script>
  


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- jQuery -->
<script src="js/jquery.min.js"></script>
<!-- popper -->
<script src="js/popper.min.js"></script>
<!-- bootstrap 4.1 -->
<script src="js/bootstrap.min.js"></script>
<!-- jQuery easing -->
<script src="js/jquery.easing.1.3.js"></script>
<!-- Waypoints -->
<script src="js/jquery.waypoints.min.js"></script>
<!-- Flexslider -->
<script src="js/jquery.flexslider-min.js"></script>
<!-- Owl carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- Magnific Popup -->
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/magnific-popup-options.js"></script>
<!-- Date Picker -->
<script src="js/bootstrap-datepicker.js"></script>
<!-- Stellar Parallax -->
<script src="js/jquery.stellar.min.js"></script>
<!-- Main -->



<script src="js/main.js"></script>

</body>

</html>